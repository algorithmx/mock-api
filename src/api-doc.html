<!DOCTYPE html>
<html>
<head>
  <title>Mock API Documentation</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
    .endpoint { margin: 20px 0; padding: 10px; border: 1px solid #ddd; }
    code { background: #f5f5f5; padding: 2px 4px; }
  </style>
</head>
<body>
  <h1>Mock API Documentation</h1>
  
  <div class="endpoint">
    <h3>GET /</h3>
    <p>Returns a simple hello world message</p>
    <p>Response: <code>{"name": "Hello world!"}</code></p>
  </div>

  <div class="endpoint">
    <h3>GET /projects/:name</h3>
    <p>Get a project's configuration</p>
    <p>Returns the project configuration file if it exists, otherwise returns 404</p>
  </div>

  <div class="endpoint">
    <h3>POST /projects/:name</h3>
    <p>Create a new project configuration</p>
    <p>Creates a new project if it doesn't exist, returns 400 if project already exists</p>
  </div>

  <div class="endpoint">
    <h3>PUT /projects/:name</h3>
    <p>Update an existing project configuration</p>
    <p>Updates project if it exists, returns 400 if project doesn't exist</p>
  </div>

  <div class="endpoint">
    <h3>GET /projects/:project_name/:path</h3>
    <p>Mock an API endpoint based on project configuration</p>
    <p>Returns mock response based on matching configuration in project file</p>
    
    <h4>Request Pattern</h4>
    <ul>
      <li>URL Pattern: <code>^/projects/([^/]+)/([^?]+)</code></li>
      <li>Method: GET</li>
    </ul>

    <h4>Mock Configuration Format</h4>
    <p>The mock configurations should be stored in JSON files with the following structure:</p>
    <pre><code>{
  "description": "Project description",
  "endpoints": {
    "/api/users": {
      "when": [{
        "method": "GET",
        "request": {
          "queries": {
            "filter": {
              "operator": "is",
              "value": "active"
            }
          },
          "headers": {
            "content-type": "application/json"
          },
          "body": {"optional": "json body"}
        },
        "delay": 1000,
        "response": {
          "status": 200,
          "body": {"example": "response content"},
          "headers": {
            "Content-Type": "application/json"
          }
        }
      }]
    }
  }
}</code></pre>

    <h4>Example Usage</h4>
    <p><code>GET /projects/my-project/api/users</code></p>
    <p>This will look for a mock configuration in my-project's config file matching the path "/api/users" with GET method.</p>

    <h4>Response</h4>
    <ul>
      <li>Returns the configured mock response if found</li>
      <li>Returns 400 if project doesn't exist</li>
      <li>Returns 400 "Not implemented" if no matching endpoint configuration</li>
    </ul>
  </div>
</body>
</html>
